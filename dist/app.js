!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=u(a(2)),r=u(a(3)),s=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"turnPrevPage",value:function(){if(1!==i.default.currentPage){var e=i.default.currentPage-1;this.passSelectedPaginatorItem(e);var t=this.giveSelectedSetOfVideos(e);document.querySelector(".main__slider-page").classList.add("move-left"),this.delayDrawExecution(t,e,450)}}},{key:"turnNextPage",value:function(){var e=i.default.currentPage+1;this.passSelectedPaginatorItem(e);var t=this.giveSelectedSetOfVideos(e);document.querySelector(".main__slider-page").classList.add("move-right"),this.delayDrawExecution(t,e,450)}},{key:"turnCertainPage",value:function(e){if(e.target.parentElement===e.currentTarget){var t=+e.target.innerHTML;this.passSelectedPaginatorItem(t);var a=this.giveSelectedSetOfVideos(t);document.querySelector(".paginator").dispatchEvent(new MouseEvent("mouseout")),t>i.default.currentPage?document.querySelector(".main__slider-page").classList.add("move-right"):document.querySelector(".main__slider-page").classList.add("move-left"),this.delayDrawExecution(a,t,450)}}},{key:"delayDrawExecution",value:function(e,t,a){setTimeout(function(){document.querySelector(".main__slider").innerHTML="",r.default.createSetOfVideoDataElements(e),i.default.currentPage=t},a)}},{key:"responseDrower",value:function(e){var t=document.querySelector(".main__navigation");(i.default.setTotalResults(s.default.totalResults),i.default.setNumberOfPages(),i.default.getNumberOfPages())?(t.classList.remove("hidden"),e(this.giveSelectedSetOfVideos())):r.default.createNoResultsNotification()}},{key:"clearPreviousResponse",value:function(){document.querySelector(".main__slider")&&(document.querySelector(".main__slider").innerHTML="",s.default.listOfVideos.length=0,i.default.currentPage=1,this.reloadPaginator())}},{key:"reloadPaginator",value:function(){this.deselectPaginator();var e=document.querySelector(".paginator");Array.from(e.children).forEach(function(e,t){e.innerHTML=t+1,0===t&&e.classList.add("paginator__page_current")})}},{key:"deselectPaginator",value:function(){var e=document.querySelector(".paginator");Array.from(e.children).forEach(function(e){e.classList.contains("paginator__page_current")&&e.classList.remove("paginator__page_current")})}},{key:"giveSelectedSetOfVideos",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.currentPage)*i.default.videosPerPage-i.default.videosPerPage,t=e+i.default.videosPerPage,a=+document.querySelector(".paginator").children[i.default.pagesPerPage-1].innerHTML;return i.default.videosPerPage*(a+1)>s.default.getSetLength()&&s.default.makeRequest(s.default.makeNextPageURL()),s.default.listOfVideos.slice(e,t)}},{key:"passSelectedPaginatorItem",value:function(e){var t=document.querySelector(".paginator").children,a=Math.floor(t.length/2),n=+t[a].innerHTML,r=Math.round(t.length/2),s=e-n;this.deselectPaginator(),e>i.default.currentPage?e<=r?t[e-1].classList.add("paginator__page_current"):(Array.from(t).forEach(function(e){var t=e,a=+e.innerHTML;t.innerHTML=a+s}),t[a].classList.add("paginator__page_current")):e<=r?(Array.from(t).forEach(function(e,t){e.innerHTML=t+1}),t[e-1].classList.add("paginator__page_current")):(Array.from(t).forEach(function(e){var t=e,a=+e.innerHTML;t.innerHTML=a+s}),t[a].classList.add("paginator__page_current"))}},{key:"rebuildSlider",value:function(e){var t=Math.ceil(e/i.default.videosPerPage);if(document.querySelector(".paginator").innerHTML="",r.default.createSetOfNavigatElems(i.default.pagesPerPage),s.default.getSetLength()){this.passSelectedPaginatorItem(t),i.default.currentPage=t;var a=this.giveSelectedSetOfVideos();document.querySelector(".main__slider").innerHTML="",r.default.createSetOfVideoDataElements(a)}}},{key:"showNumberOfPages",value:function(e){if(e.target.parentElement===e.currentTarget){var t=+e.target.innerHTML,a=i.default.numberOfPages;r.default.createNumOfPagesMessage(t,a)}}},{key:"hideNumberOfPages",value:function(){var e=document.querySelector(".page-number__message");e&&e.remove()}},{key:"controlPagesByKeys",value:function(e){var t=document.querySelector(".navigation__prev"),a=document.querySelector(".navigation__next"),n=document.querySelector(".header__search"),i=document.querySelector(".header__search-button"),r=document.activeElement;37===e.keyCode&&t.dispatchEvent(new MouseEvent("click")),39===e.keyCode&&a.dispatchEvent(new MouseEvent("click")),13===e.keyCode&&r===n&&i.dispatchEvent(new MouseEvent("click"))}},{key:"selectWorkingArea",value:function(){document.querySelector(".header__title").classList.add("header_color-decoration"),document.querySelector(".header__search").classList.add("header_color-decoration"),document.querySelector(".header__search").value="",document.querySelector(".header__highlight").classList.add("header_color-decoration")}},{key:"deselectWorkingArea",value:function(){document.querySelector(".header__title").classList.remove("header_color-decoration"),document.querySelector(".header__search").classList.remove("header_color-decoration"),document.querySelector(".header__highlight").classList.remove("header_color-decoration")}}]),e}();t.default=new d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),s=(n=r)&&n.__esModule?n:{default:n};function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.KEY="AIzaSyCouAADWroSP9SX23a5KMzQlVa6X46fLJ4",this.URL="https://www.googleapis.com/youtube/v3/",this.maxResults=15,this.prevPage=null,this.nextPage=null,this.searchRequest=null,this.statisticRequest=null,this.listOfVideos=[],this.totalResults=null}return i(e,[{key:"makeSearchURL",value:function(e,t,a,n){return this.searchRequest=this.URL+e+"?key="+this.KEY+"&part="+t+"&type="+a+"&maxResults="+this.maxResults+"&q="+n,this.searchRequest}},{key:"makeStatisticURL",value:function(e,t,a){return this.statisticRequest=this.URL+e+"?key="+this.KEY+"&part="+t+"&id="+a,this.statisticRequest}},{key:"makeRequest",value:function(e,t){var a=this,n=[];fetch(e).then(function(e){return e.json()}).then(function(e){n.push.apply(n,u(e.items)),a.nextPage=e.nextPageToken,a.totalResults=e.pageInfo.totalResults;var t=a.getListOfVidiosId(n),i=a.makeStatisticURL("videos","statistics",t);return fetch(i)}).then(function(e){return e.json()}).then(function(e){a.addResponsDataToList(n,e.items),t&&s.default.responseDrower(t)}).catch(function(){})}},{key:"getListOfVidiosId",value:function(e){return e.map(function(e){return e.id.videoId})}},{key:"addResponsDataToList",value:function(e,t){var a;e.forEach(function(e,a){e.statistics=t[a].statistics}),(a=this.listOfVideos).push.apply(a,u(e))}},{key:"makePrevPageURL",value:function(){return this.searchRequest+"&pageToken="+this.prevPage}},{key:"makeNextPageURL",value:function(){return this.searchRequest+"&pageToken="+this.nextPage}},{key:"getSetLength",value:function(){return this.listOfVideos.length}}]),e}();t.default=new d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),s=(n=r)&&n.__esModule?n:{default:n};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hugeScreen=null,this.largeScreen=null,this.mediumScreen=null,this.smallScreen=null,this.currentPage=1,this.videosPerPage=null,this.pagesPerPage=null,this.numberOfPages=null,this.totalResults=null,this.hugeScreenQuery="(min-width: 1200px)",this.largeScreenQuery="(min-width: 900px) and (max-width: 1199px)",this.mediumScreenQuery="(min-width: 600px) and (max-width: 899px)",this.smallScreenQuery="(min-width: 300px) and (max-width: 599px)"}return i(e,[{key:"createMediaQueries",value:function(){this.hugeScreen=window.matchMedia(this.hugeScreenQuery),this.largeScreen=window.matchMedia(this.largeScreenQuery),this.mediumScreen=window.matchMedia(this.mediumScreenQuery),this.smallScreen=window.matchMedia(this.smallScreenQuery)}},{key:"addMediaQueryListeners",value:function(){this.hugeScreen.addListener(this.defineSizeListener.bind(this)),this.largeScreen.addListener(this.defineSizeListener.bind(this)),this.mediumScreen.addListener(this.defineSizeListener.bind(this)),this.smallScreen.addListener(this.defineSizeListener.bind(this))}},{key:"setTotalResults",value:function(e){this.totalResults=e}},{key:"setNumberOfPages",value:function(){this.numberOfPages=Math.floor(this.totalResults/this.videosPerPage)}},{key:"getNumberOfPages",value:function(){return this.numberOfPages}},{key:"defineInitalDisplayProperties",value:function(){this.hugeScreen.matches?(this.videosPerPage=4,this.pagesPerPage=5,this.setNumberOfPages()):this.largeScreen.matches?(this.videosPerPage=3,this.pagesPerPage=5,this.setNumberOfPages()):this.mediumScreen.matches?(this.videosPerPage=2,this.pagesPerPage=5,this.setNumberOfPages()):this.smallScreen.matches&&(this.videosPerPage=1,this.pagesPerPage=3,this.setNumberOfPages())}},{key:"defineSizeListener",value:function(e){var t=this.videosPerPage*(this.currentPage-1)+1;e.matches&&(this.defineInitalDisplayProperties(),s.default.rebuildSlider(t))}}]),e}();t.default=new u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"createSearchingBlock",value:function(){var e=document.createElement("header");e.classList.add("header");var t=document.createElement("h1");t.classList.add("header__title"),t.innerHTML="gle";var a=document.createElement("span");a.classList.add("header__highlight"),a.innerHTML="You";var n=document.createElement("div");n.classList.add("search__form");var i=document.createElement("input");i.classList.add("header__search"),i.setAttribute("type","text"),i.setAttribute("placeholder","Type here");var r=document.createElement("button");r.classList.add("header__search-button");var s=document.createElement("i");s.classList.add("fas","fa-search"),r.appendChild(s),n.appendChild(i),n.appendChild(r),t.prepend(a),e.appendChild(t),e.appendChild(n),document.body.appendChild(e)}},{key:"createMainBlock",value:function(){var e=document.createElement("main");e.classList.add("main","hidden");var t=document.createElement("div");t.classList.add("main__slider");var a=this.createNavigation();e.appendChild(t),e.appendChild(a),document.body.appendChild(e)}},{key:"createNavigation",value:function(){var e=document.createElement("div");e.classList.add("main__navigation");var t=document.createElement("button");t.classList.add("navigation__prev","navigation__button"),t.innerHTML="Prev";var a=document.createElement("button");a.classList.add("navigation__next","navigation__button"),a.innerHTML="Next";var n=document.createElement("ul");return n.classList.add("paginator"),e.appendChild(t),e.appendChild(n),e.appendChild(a),e}},{key:"createVideoDataElement",value:function(e){var t=document.createElement("div");t.classList.add("slider__item");var a=document.createElement("a");a.classList.add("item__link"),a.setAttribute("href","https://www.youtube.com/watch?v="+e.id.videoId),a.setAttribute("draggable","false"),a.setAttribute("target","_blank");var n=document.createElement("img"),i=e.snippet.thumbnails.medium.url;n.classList.add("item__image"),n.setAttribute("src",i),n.setAttribute("draggable","false");var r=document.createElement("h2");r.classList.add("item__title"),r.innerHTML=e.snippet.title;var s=document.createElement("div");s.classList.add("item__container");var u=document.createElement("div");u.classList.add("item__info");var d=document.createElement("span");d.classList.add("item__author"),d.innerHTML=e.snippet.channelTitle;var o=document.createElement("span");o.classList.add("item__date"),o.innerHTML=new Date(Date.parse(e.snippet.publishedAt)).toDateString();var c=document.createElement("p");c.classList.add("item__description"),c.innerHTML=e.snippet.description;var l=document.createElement("ul");l.classList.add("item__statistic");var f=document.createElement("li");f.classList.add("item__likes","item__count"),f.innerHTML=e.statistics.likeCount;var h=document.createElement("li");h.classList.add("item__dislikes","item__count"),h.innerHTML=e.statistics.dislikeCount;var m=document.createElement("li");return m.classList.add("item__views","item__count"),m.innerHTML=e.statistics.viewCount,u.appendChild(d),u.appendChild(o),l.appendChild(f),l.appendChild(h),l.appendChild(m),a.appendChild(n),a.appendChild(r),s.appendChild(u),s.appendChild(c),s.appendChild(l),t.appendChild(a),t.appendChild(s),t}},{key:"createSetOfVideoDataElements",value:function(e){var t=e.length,a=document.createElement("div");a.classList.add("main__slider-page");for(var n=0;n<t;n+=1){var i=this.createVideoDataElement(e[n]);a.appendChild(i)}document.querySelector(".main__slider").appendChild(a)}},{key:"createSetOfNavigatElems",value:function(e){var t=document.createDocumentFragment(),a=document.createElement("li");a.classList.add("paginator__page");for(var n=0;n<e;n+=1){var i=a.cloneNode(!0);i.innerHTML=n+1,0===n&&i.classList.add("paginator__page_current"),t.appendChild(i)}document.querySelector(".paginator").appendChild(t)}},{key:"createNoResultsNotification",value:function(){var e=document.createElement("p");e.classList.add("response__notification"),e.innerHTML="No result was found.",document.querySelector(".main__slider").appendChild(e)}},{key:"createNumOfPagesMessage",value:function(e,t){var a=document.createElement("p");a.classList.add("page-number__message"),a.innerHTML="Page "+e+" of "+t,document.querySelector(".main__navigation").after(a)}}]),e}();t.default=new i},function(e,t,a){"use strict";var n=d(a(1)),i=d(a(2)),r=d(a(3)),s=d(a(0)),u=d(a(5));function d(e){return e&&e.__esModule?e:{default:e}}var o=void 0,c=void 0,l=void 0,f=void 0,h=void 0;function m(){s.default.clearPreviousResponse(),document.querySelector(".main__navigation").classList.add("hidden"),l.classList.contains("hidden")&&l.classList.remove("hidden");var e=n.default.makeSearchURL("search","snippet","video",c.value),t=r.default.createSetOfVideoDataElements.bind(r.default);n.default.makeRequest(e,t)}window.onload=function(){var e,t,a,n,d,v,g;r.default.createSearchingBlock(),o=document.querySelector(".header__search-button"),c=document.querySelector(".header__search"),i.default.createMediaQueries(),i.default.defineInitalDisplayProperties(),i.default.addMediaQueryListeners(),window.addEventListener("keydown",s.default.controlPagesByKeys),o.addEventListener("click",m),o.addEventListener("keydown",s.default.controlPagesByKeys),c.addEventListener("focus",s.default.selectWorkingArea),c.addEventListener("blur",s.default.deselectWorkingArea),r.default.createMainBlock(),r.default.createSetOfNavigatElems(i.default.pagesPerPage),l=document.querySelector(".main"),f=document.querySelector(".main__slider"),h=document.querySelector(".paginator"),e=document.querySelector(".navigation__prev"),t=document.querySelector(".navigation__next"),a=s.default.turnPrevPage.bind(s.default),n=s.default.turnNextPage.bind(s.default),d=s.default.turnCertainPage.bind(s.default),v=s.default.showNumberOfPages.bind(s.default),g=s.default.hideNumberOfPages.bind(s.default),e.addEventListener("click",a),t.addEventListener("click",n),h.addEventListener("click",d),h.addEventListener("mouseover",v),h.addEventListener("mouseout",g),f.addEventListener("mousedown",u.default.downEvent.bind(u.default)),f.addEventListener("mouseup",u.default.upEvent.bind(u.default)),f.addEventListener("touchstart",u.default.downEvent.bind(u.default)),f.addEventListener("touchend",u.default.upEvent.bind(u.default))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startX=0,this.endX=0,this.startTime=0,this.endTime=0,this.swipeMinLength=100,this.swipeMaxDuration=800}return n(e,[{key:"downEvent",value:function(e){this.startTime=Date.now(),this.startX=e.clientX||e.changedTouches[0].clientX}},{key:"upEvent",value:function(e){this.endX=e.clientX||e.changedTouches[0].clientX,this.endTime=Date.now();var t=this.endX-this.startX,a=this.endTime-this.startTime;t<-this.swipeMinLength&&a<this.swipeMaxDuration&&document.querySelector(".navigation__next").dispatchEvent(new MouseEvent("click")),t>+this.swipeMinLength&&a<this.swipeMaxDuration&&document.querySelector(".navigation__prev").dispatchEvent(new MouseEvent("click"))}}]),e}();t.default=new i}]);
//# sourceMappingURL=app.js.map